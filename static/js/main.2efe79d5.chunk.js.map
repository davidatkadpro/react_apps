{"version":3,"sources":["ItemTree/TreeCrawl.module.css","components/universal/Nav/Nav.module.css","components/Helpers/ClickOutside.js","components/universal/Nav/Nav.js","context/AppContext.js","components/ItemCard/ItemCardItem.js","components/ItemCard/ItemCard.js","pages/Dashboard.js","components/ItemModes/ItemTotal.js","components/ItemModes/ItemCount.js","components/ItemModes/ItemDate.js","components/ItemDetail/ItemListItem.js","components/ItemDetail/ItemDetail.js","pages/Item.js","ItemTree/TreeCrawl.js","pages/ListTree.js","pages/Base.js","App.js","index.js","components/ItemCard/ItemCard.module.css","components/ItemDetail/ItemDetail.module.css","components/ItemModes/ItemMode.module.css"],"names":["module","exports","useClickOutside","handler","domNode","useRef","useEffect","maybeHandler","event","current","contains","target","document","addEventListener","removeEventListener","Nav","useState","menu","setmenu","handleClose","domMenu","className","styles","nav","onClick","to","brand","ref","sidenav","style","transform","AppReducer","state","action","type","items","payload","map","item","id","filter","getChildren","includes","forEach","newItem","tags","tag","KEY","found","crawl","i","parent","push","initialState","title","description","AppContext","createContext","AppProvider","props","useReducer","JSON","parse","localStorage","getItem","dispatch","data","setItem","stringify","Provider","value","children","ItemCardItem","maxIndex","itemMenu","setItemMenu","moveMenu","setMoveMenu","itemInput","setItemInput","useContext","handleUpdate","test","handleMove","e","key","Number","dataset","copy","index","length","console","log","underlay","editWrap","placeholder","name","editInput","onChange","prev","onKeyPress","charCode","menuWrap","icon","reduce","availible","scrollList","heading","as","iconSmall","ItemCard","setitemInput","editTitle","setEditTitle","addChild","setAddChild","childInput","setChildInput","childItems","sort","a","b","nextId","handleAddChild","child","domTitle","warp","cardPanel","inputSmall","onDragEnd","result","destination","_items","Array","from","splice","source","reordered","droppableId","provided","droppableProps","innerRef","draggableId","draggableProps","dragHandleProps","childItem","collapsibleBody","display","iconClose","Dashboard","formInput","setFormInput","addCard","setAddCard","baseItems","handleAddCard","preventDefault","rows","cols","cursor","ItemTotal","listItems","remove","editable","showTotal","active","modules","total","updateItem","modeMain","modeContainer","totalWrap","modeInput","headingChecklist","listTotals","count","toFixed","ItemCount","showCount","modeWrap","iconCount","countValue","ItemDate","showDate","date","dateWrap","replace","ItemListItem","status","checked","setChecked","checkBox","check","listItem","listItemHeading","textDecoration","iconHidden","ItemDetail","itemId","find","textAreaHeight","setTextAreaHeight","itemChecked","setItemChecked","itemTitle","setItemTitle","itemDescription","setItemDescription","listItemInput","setListItemInput","listItemAdd","setListItemAdd","itemDatesAdd","setItemDatesAdd","itemCountAdd","setItemCountAdd","itemTotalAdd","setItemTotalAdd","history","useHistory","handleChange","scrollHeight","handleTitle","handleListItemAdd","progress","size","isNaN","domDesc","detailCard","goBack","height","textArea","listWrap","progressPerc","progressBar","width","itemNav","li","Item","match","useParams","TreeCrawl","marginLeft","Object","keys","listli","link2","link","ListTree","itemTree","added","build","card","button","Base","path","exact","component","App","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.2efe79d5.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"listItems\":\"TreeCrawl_listItems__17l_F\",\"card\":\"TreeCrawl_card__2O7LD\",\"link\":\"TreeCrawl_link__37WBm\",\"link2\":\"TreeCrawl_link2__JT9E3\",\"button\":\"TreeCrawl_button__2BCTz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"brand\":\"Nav_brand__w7dL3\",\"sidenav\":\"Nav_sidenav__39XFw\"};","import { useEffect, useRef } from 'react';\r\n\r\nexport let useClickOutside = (handler) => {\r\n    let domNode = useRef();\r\n  \r\n    useEffect(() => {\r\n      let maybeHandler = (event) => {\r\n        if (! event == null || ! domNode.current || !domNode.current.contains(event.target)) {\r\n          handler();\r\n        }\r\n      };\r\n  \r\n      document.addEventListener(\"mousedown\", maybeHandler);\r\n  \r\n      return () => {\r\n        document.removeEventListener(\"mousedown\", maybeHandler);\r\n      };\r\n    });\r\n  \r\n    return domNode;\r\n};","import React, {useState} from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { useClickOutside } from '../../Helpers/ClickOutside'\r\nimport styles from './Nav.module.css'\r\n\r\n\r\nexport default function Nav() {\r\n    const [menu, setmenu] = useState(false)\r\n\r\n    const handleClose = () => {\r\n        setmenu(false)\r\n    }\r\n\r\n    let domMenu = useClickOutside(() => {\r\n        setmenu(false)\r\n    })\r\n    return (\r\n        <div className=\"navbar-fixed\">\r\n            <nav className={styles.nav}>\r\n                <div className=\"nav-wrapper container\">\r\n                    <Link onClick={handleClose}  to=\"/\" className={`brand-logo ${styles.brand}`}><i className=\"material-icons\">blur_on</i><span>MagicLi</span></Link>\r\n                    <span className=\"sidenav-trigger\"><i  onClick={()=>setmenu(!menu)} className=\"material-icons\">menu</i></span>\r\n                    <ul className=\"right hide-on-med-and-down\">\r\n                        <li><Link onClick={handleClose} to=\"/\">Dashboard</Link></li>\r\n                        <li><Link onClick={handleClose} to=\"/tree\">List Tree</Link></li>\r\n                    </ul>\r\n                </div>\r\n            </nav>           \r\n            <ul  ref={domMenu}  className={`sidenav ${styles.sidenav}`}  style={{transform: menu ? \"translateX(0%)\":\"translateX(-105%)\" }}>\r\n                <li><i  onClick={handleClose} className=\"material-icons right\">close</i></li>\r\n                <li><Link  onClick={handleClose} to=\"/\">Dashboard</Link></li>\r\n                <li><Link  onClick={handleClose} to=\"/tree\">List Tree</Link></li>\r\n            </ul>\r\n        </div>\r\n\r\n    )\r\n}\r\n","import { createContext, useReducer, useEffect } from \"react\";\r\n\r\nconst AppReducer = (state, action) => {\r\n    switch (action.type) {\r\n        case 'ADD_ITEM':\r\n            return {\r\n                ...state, \r\n                items: [...state.items, action.payload],\r\n            }\r\n        case 'UPDATE_ITEM':\r\n            return {\r\n                ...state, \r\n                items: state.items.map(\r\n                    (item) => item.id === action.payload.id ? action.payload : item\r\n                )\r\n            }  \r\n        case 'DELETE_ITEM':\r\n            // TODO crap futher down and delete all child items, also add a warning dialog\r\n            return {\r\n                ...state, \r\n                items: [...state.items].filter(item => item.id !== action.payload.id && ! getChildren(action.payload, state.items).includes(item) )\r\n            } \r\n        case 'UPDATE_ITEMS':\r\n            return {\r\n                ...state, \r\n                items: state.items.map((item) => {\r\n                    action.payload.forEach(newItem => {\r\n                        if (newItem.id === item.id){\r\n                            return newItem;\r\n                        }\r\n                    })\r\n                    return item;\r\n                })\r\n            }  \r\n        case 'ADD_TAG':\r\n            return {\r\n                ...state, \r\n                tags: [...state.tags, action.payload],\r\n            }\r\n        case 'DELETE_TAG':\r\n            return {\r\n                ...state, \r\n                tags: [...state.tags].filter(tag => tag.id !== action.payload.id),\r\n                items: [...state.items, state.items.map( (item) => {\r\n                    if (item.tags && item.tags.includes(action.payload)) {\r\n                        item.tags = item.tags.filter(tag => tag !== action.payload.id) }\r\n                    return item\r\n                })] \r\n            }        \r\n        default:\r\n            return state;\r\n    }\r\n}\r\nconst KEY = 'list-app';\r\nconst getStore = () =>{\r\n    return  JSON.parse(localStorage.getItem(KEY));\r\n}\r\nconst setStore = (data) =>{\r\n    localStorage.setItem(KEY, JSON.stringify(data));\r\n}\r\n\r\nconst getChildren = (item, items) => {\r\n    const found = []\r\n    const crawl = (id, items) =>{\r\n        for(var i in items) {\r\n            if (items[i].parent === id && ! found.includes(items[i]) ) {\r\n                found.push(items[i]);\r\n                crawl(items[i].id, items)\r\n            } \r\n        }\r\n    }\r\n    crawl(item.id, items)\r\n    return found\r\n}\r\n\r\nconst initialState = {\r\n    tags: [\r\n        {id:1, title:'Personal'}\r\n    ],\r\n    items:[\r\n        {id:1, title:'Title', description:'', tags:[], parent:null},\r\n        {id:2, title:'Title 2', description:'', tags:[], parent:null},\r\n        {id:3, title:'Title 3', description:'', tags:[], parent:2},\r\n    ]\r\n}\r\n\r\n\r\nexport const AppContext = createContext();\r\n\r\nexport const AppProvider = (props) =>{\r\n    const [state, dispatch] = useReducer(AppReducer, getStore() || initialState);\r\n\r\n    useEffect(() => {\r\n        setStore(state)\r\n    }, [state])\r\n\r\n    return (\r\n    <AppContext.Provider \r\n        value={{\r\n            items: state.items,\r\n            tags: state.tags,\r\n            children: (item) => getChildren(item, state.items), \r\n            dispatch,\r\n        }}\r\n    >\r\n        {props.children}\r\n    </AppContext.Provider>)\r\n}","import React, {useState, useContext} from 'react';\r\nimport styles from './ItemCard.module.css';\r\nimport { Link } from 'react-router-dom';\r\nimport { useClickOutside} from '../Helpers/ClickOutside';\r\nimport { AppContext } from '../../context/AppContext';\r\n\r\n\r\nexport default function ItemCardItem({item, maxIndex}) {\r\n    const [itemMenu, setItemMenu] = useState(false);\r\n    const [moveMenu, setMoveMenu] = useState(null)\r\n\r\n    const [itemInput, setItemInput] = useState(item)\r\n\r\n    const { items, children, dispatch } = useContext(AppContext);\r\n\r\n    const nextId = () => items.reduce((id, item)=>( item.id > id ? item.id : id), 0) + 1\r\n\r\n    const handleChange = (e) => {\r\n        const [name, value] = [e.target.name, e.target.value]\r\n        setItemInput(prev => {\r\n            return { ...prev, [name]:value }\r\n        })\r\n    }\r\n\r\n    const handleTitleSave = (e) => { if (e.charCode === 13) handleUpdate() }\r\n\r\n    const handleUpdate = () => {\r\n        if (! itemInput.title || /^\\s*$/.test(itemInput.title)) return\r\n\r\n        dispatch({\r\n            type:'UPDATE_ITEM',\r\n            payload: itemInput\r\n        });\r\n        setItemMenu(false)\r\n    }\r\n\r\n    const handleCopy = () =>{\r\n        let copy =  JSON.parse(JSON.stringify(item));\r\n        copy.id = nextId()\r\n        copy.index = maxIndex\r\n        copy.title = item.title + ' - copy'\r\n        dispatch({\r\n            type:'ADD_ITEM',\r\n            payload: copy\r\n        });\r\n        setItemMenu(false)\r\n    }\r\n\r\n    const handleMoveMenu = () => {\r\n        const availible = [...items].filter(i => item.id !== i.id && item.parent !== i.id && ! children(item).includes(i))\r\n        setMoveMenu(availible)\r\n    }\r\n\r\n    const handleMove = (e) => {\r\n        const key = Number(e.target.dataset.key)        \r\n        const copy = {...item}        \r\n        copy.parent = key > 0 ? key : null;\r\n        copy.index = items.filter(i => copy.parent === i.parent).length\r\n        console.log('index',copy.index)\r\n        dispatch({\r\n            type:'UPDATE_ITEM',\r\n            payload: copy\r\n        });\r\n        setMoveMenu(null)\r\n        setItemMenu(false)\r\n    }\r\n\r\n    const handleDelete = () => {\r\n        dispatch({\r\n            type:'DELETE_ITEM',\r\n            payload: item\r\n        });\r\n        setItemMenu(false)\r\n    }\r\n\r\n    let domMenu = useClickOutside(() => {\r\n        setItemMenu(false)\r\n    })\r\n    return (\r\n        <>  \r\n            {itemMenu &&\r\n            <div ref={domMenu}>\r\n                <div onClick={() => setItemMenu(false)} className={styles.underlay}></div>\r\n                <div className={`${styles.editWrap}`}>\r\n                    <input\r\n                        type=\"text\"\r\n                        placeholder=\"Title\"\r\n                        value={itemInput.title}\r\n                        name='title'\r\n                        className={`z-depth-5 ${styles.editInput}`}\r\n                        onChange={handleChange} \r\n                        onKeyPress={handleTitleSave}\r\n                    />\r\n                    <button onClick={handleUpdate} className=\"btn secondary\">Save</button>\r\n                </div>\r\n                <div className={`z-depth-5 ${styles.menuWrap}`}>\r\n                    <ul>\r\n                        <li><i onClick={() => setItemMenu(false)}className={`material-icons ${styles.icon}`}>close</i></li>\r\n                        <li onClick={handleCopy}>Copy</li>\r\n                        <li onClick={handleMoveMenu}>Move</li>\r\n                        { moveMenu &&\r\n                        <li className={styles.scrollList}>\r\n                            <ul>\r\n                                { item.parent && <li onClick={handleMove} data-key='0'>Dashboard</li>}\r\n                                {moveMenu.map((i)=>(\r\n                                <li onClick={handleMove} key={i.id} data-key={i.id}>{i.title}</li>\r\n                                ))}\r\n                            </ul>\r\n                        </li>}\r\n                        <li onClick={handleDelete}>Delete</li>\r\n                    </ul>\r\n                </div>\r\n            </div>}\r\n      \r\n\r\n            <h6 className={styles.heading}><Link to={`/item/${item.id}`} as={`/item/${item.id}`}>{item.title}</Link></h6>\r\n            <i onClick={()=>setItemMenu(true)} className={`material-icons right ${styles.iconSmall}`}>edit</i>\r\n\r\n        </>\r\n    )\r\n}\r\n","import React, {useState, useContext} from 'react';\r\nimport { AppContext } from '../../context/AppContext';\r\nimport styles from './ItemCard.module.css';\r\nimport ItemCardItem from './ItemCardItem';\r\nimport { useClickOutside } from '../Helpers/ClickOutside';\r\nimport { DragDropContext, Droppable, Draggable  } from 'react-beautiful-dnd';\r\n\r\nexport default function ItemCard({item, items}) {\r\n    const [itemInput, setitemInput] = useState(item)\r\n    const [itemMenu, setItemMenu] = useState(false)\r\n    const [moveMenu, setMoveMenu] = useState(null)\r\n\r\n    const [editTitle, setEditTitle] = useState(false)\r\n\r\n    const [addChild, setAddChild] = useState(false)\r\n    const [childInput, setChildInput] = useState({title:'', description:'', tags:[], parent:item.id})\r\n\r\n    const { children, dispatch } = useContext(AppContext);\r\n\r\n    const childItems = [...items].filter(i => item.id === i.parent)\r\n    childItems.sort((a, b) => (a.index > b.index) ? 1 : -1)\r\n\r\n    const nextId = () => items.reduce((id, item)=>( item.id > id ? item.id : id), 0) + 1\r\n\r\n    const handleTitleSave = (e) => {\r\n        if (e.charCode === 13) {\r\n            if (! itemInput.title || /^\\s*$/.test(itemInput.title)) return\r\n\r\n            dispatch({\r\n                type:'UPDATE_ITEM',\r\n                payload: itemInput\r\n            });\r\n            setEditTitle(false)\r\n        }\r\n    }\r\n\r\n    const handleChange = (e) => {\r\n        const [name, value] = [e.target.name, e.target.value]\r\n        setitemInput(prev => {\r\n            return { ...prev, [name]:value }\r\n        })\r\n    }\r\n\r\n    const handleChildChange = (e) => {\r\n        const [name, value] = [e.target.name, e.target.value]\r\n        setChildInput(prev => {\r\n            return { ...prev, [name]:value }\r\n        })\r\n    }\r\n\r\n    const handleDelete = () => {\r\n        dispatch({\r\n            type:'DELETE_ITEM',\r\n            payload: item\r\n        });\r\n        setItemMenu(false)\r\n    }   \r\n\r\n    const handleChildSave = (e) => { if (e.charCode === 13) handleAddChild() }\r\n\r\n    const handleAddChild = () => {\r\n        if (addChild && childInput.title.length > 0) {\r\n            if (! childInput.title || /^\\s*$/.test(childInput.title)) return\r\n            const child = childInput;\r\n            child.id = nextId();\r\n            child.index = childItems.length;\r\n            dispatch({\r\n                type:'ADD_ITEM',\r\n                payload: child\r\n            });\r\n            setChildInput({title:'', description:'', tags:[], parent:item.id})\r\n            setAddChild(false)\r\n\r\n        } else {\r\n            setAddChild(true)    \r\n        }\r\n        \r\n    }\r\n\r\n    const handleCopy = () =>{\r\n        let copy =  JSON.parse(JSON.stringify(item));\r\n        copy.id = nextId()\r\n        copy.index = childItems.length;\r\n        copy.title = item.title + ' - copy'\r\n        dispatch({\r\n            type:'ADD_ITEM',\r\n            payload: copy\r\n        });\r\n        setItemMenu(false)\r\n    }\r\n\r\n    const handleMoveMenu = () => {\r\n        const availible = [...items].filter(i => item.id !== i.id && item.parent !== i.id && ! children(item).includes(i))\r\n        setMoveMenu(availible)\r\n    }\r\n    const handleMove = (e) => {\r\n        const key = Number(e.target.dataset.key)        \r\n        const copy = {...item}        \r\n        copy.parent = key > 0 ? key : null;\r\n        copy.index = items.filter(i => copy.parent === i.parent).length\r\n        console.log('index',copy.index)\r\n        dispatch({\r\n            type:'UPDATE_ITEM',\r\n            payload: copy\r\n        });\r\n        setMoveMenu(null)\r\n        setItemMenu(false)\r\n    }\r\n\r\n    const handleDragEnd = (result) => {\r\n        if (! result.destination) return \r\n        const _items = Array.from(childItems);\r\n        const [reordered] = _items.splice(result.source.index, 1);\r\n        _items.splice(result.destination.index, 0, reordered);\r\n        _items.forEach((i, index) => i.index = index);      \r\n        dispatch({\r\n            type:'UPDATE_ITEMS',\r\n            payload: _items\r\n        });\r\n    }\r\n\r\n    let domTitle = useClickOutside(() => {\r\n        setEditTitle(false)\r\n    })\r\n    let domMenu = useClickOutside(() => {\r\n        setItemMenu(false)\r\n    })\r\n    return (\r\n    <div className={styles.warp}>\r\n        {itemMenu &&\r\n        <div ref={domMenu} className={`z-depth-5 ${styles.menuWrap}`}>\r\n            <ul>\r\n                <li><i onClick={() => setItemMenu(false)} className={`material-icons ${styles.icon}`}>close</i></li>\r\n                <li onClick={() => {handleAddChild(); setItemMenu(false) }}>Add</li>\r\n                <li onClick={handleCopy}>Copy</li>\r\n                <li onClick={handleMoveMenu}>Move</li>\r\n                { moveMenu &&\r\n                <li className={styles.scrollList}>\r\n                    <ul>\r\n                        { item.parent && <li onClick={handleMove} data-key='0'>Dashboard</li>}\r\n                        {moveMenu.map((i)=>(\r\n                        <li onClick={handleMove} key={i.id} data-key={i.id}>{i.title}</li>\r\n                        ))}\r\n                    </ul>\r\n                </li>}\r\n                <li onClick={handleDelete}>Delete</li>\r\n            </ul>\r\n        </div>}\r\n        <div className={`card-panel ${styles.cardPanel}`}>\r\n            <ul>\r\n            {editTitle ? (\r\n            <input ref={domTitle} type=\"text\" value={itemInput.title} name='title' className={styles.inputSmall} onChange={handleChange} onKeyPress={handleTitleSave}/>\r\n            ) : (\r\n            <h5 onClick={() => setEditTitle(true)} className={styles.heading}>{item.title}</h5>)}\r\n            <i onClick={() => setItemMenu(!itemMenu)} className={`material-icons right ${styles.icon}`}>more_horiz</i>\r\n            <DragDropContext onDragEnd={handleDragEnd}>\r\n                <Droppable droppableId=\"items\">\r\n                {(provided) => (\r\n                <div \r\n                    className=\"items\"\r\n                    {...provided.droppableProps} \r\n                    ref={provided.innerRef} \r\n                >\r\n                    {childItems.map((i, index) => (\r\n                    <Draggable key={i.id} draggableId={'item_'+i.id} index={index}>\r\n                        {(provided) => (\r\n                            <div ref={provided.innerRef} {...provided.draggableProps} {...provided.dragHandleProps} className={`card-panel ${styles.childItem } ${styles.warp}`} >\r\n                                <ItemCardItem item={i} maxIndex={childItems.length} />\r\n                            </div>                                \r\n                        )}\r\n                    </Draggable>\r\n                    ))} \r\n                    {provided.placeholder} \r\n                </div>\r\n                )} \r\n                </Droppable>              \r\n            </DragDropContext>\r\n            </ul>\r\n            <div className={addChild ? 'active' : ''}>\r\n                <div className={`collapsible-body card-panel ${styles.collapsibleBody}`} style={addChild ? {display:'block'}:{}}>\r\n                    <input\r\n                        type=\"text\"\r\n                        placeholder=\"Title\"\r\n                        value={childInput.title}\r\n                        name='title'\r\n                        className={styles.inputSmall}\r\n                        onChange={handleChildChange}\r\n                        onKeyPress={handleChildSave}\r\n                    />\r\n                </div>\r\n                <button onClick={handleAddChild} className=\"btn secondary\">{addChild ? 'Save item' : 'Add item'}</button>\r\n                {addChild && <i onClick={() => setAddChild(false)} className={`material-icons right ${styles.iconClose}`}>close</i>}\r\n            </div>\r\n        </div>\r\n    </div>\r\n    )\r\n}\r\n","import React, {useContext, useState} from 'react';\r\nimport ItemCard from '../components/ItemCard/ItemCard';\r\nimport { AppContext } from '../context/AppContext';\r\nimport styles from '../components/ItemCard/ItemCard.module.css';\r\n\r\nexport default function Dashboard() {\r\n    const [formInput, setFormInput] = useState({title:'', description:'', tags:[], parent:null})\r\n    const [addCard, setAddCard] = useState(false)\r\n\r\n    const { items, dispatch } = useContext(AppContext);\r\n    const baseItems = [...items].filter(item => ! item.parent)\r\n\r\n    const handleChange = (e) => {\r\n        setFormInput(prev => {\r\n            return { ...prev, [e.target.name]:e.target.value }\r\n        })  \r\n    }\r\n    const nextId = () => items.reduce((id, item)=>( item.id > id ? item.id : id), 0) + 1\r\n\r\n    const handleSaveCard = (e) => { if (e.charCode === 13) handleAddCard(e) }\r\n\r\n    const handleAddCard = (e) => {\r\n        e.preventDefault();\r\n        if (! formInput.title || /^\\s*$/.test(formInput.title)) return\r\n\r\n        const item = formInput;\r\n        item.id = nextId();\r\n        item.index = baseItems.length\r\n\r\n        dispatch({\r\n            type:'ADD_ITEM',\r\n            payload: item\r\n        });\r\n        setFormInput({title:'', description:'', tags:[], parent:null})\r\n        setAddCard(false)   \r\n    }\r\n    \r\n    return (\r\n        <>\r\n            <div className=\"container\">\r\n                <div className={`row ${styles.rows}`}>\r\n                    {baseItems.map((item) => ( \r\n                    <div key={item.id} className={`col s12 m6 l4 ${styles.cols}`}>\r\n                        <ItemCard item={item} items={items} />\r\n                    </div>))}\r\n                    <div className={`col s12 m6 l4 ${styles.cols}`}>\r\n                        <div className={`card-panel ${styles.cardPanel}`}>\r\n                            {addCard &&\r\n                            <div className={`collapsible-body card-panel ${styles.collapsibleBody}`} style={{display:'block'}}>\r\n                                <input\r\n                                    type=\"text\"\r\n                                    placeholder=\"Title\"\r\n                                    className={styles.inputSmall}\r\n                                    value={formInput.title}\r\n                                    name='title'\r\n                                    onChange={handleChange}\r\n                                    onKeyPress={handleSaveCard}\r\n                                />\r\n                            </div>}                                \r\n                            {addCard ? (<>\r\n                            <button onClick={handleAddCard} className=\"btn\">Add</button>\r\n                            <i onClick={() => setAddCard(false)} className={`material-icons right ${styles.iconClose}`}>close</i>\r\n                            </>) : ( <>\r\n                            <h6 onClick={()=>setAddCard(true)} className=\"title\" style={{display:'inline-block',cursor:'pointer'}}>Add new card</h6>\r\n                            <i onClick={()=>setAddCard(true)} className=\"material-icons right\" style={{cursor:'pointer'}}>add</i>\r\n                            </>)} \r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n","import React, {useContext} from 'react';\r\nimport styles from './ItemMode.module.css';\r\nimport { AppContext } from '../../context/AppContext';\r\n\r\nexport const ItemTotal = ({item, listItems, title, remove, editable, showTotal}) => {\r\n    const active = item.modules && item.modules.total ? true : false;\r\n\r\n    const { dispatch } = useContext(AppContext);\r\n\r\n    const handleChange = (e) => {\r\n        item.modules.total.value = Number(e.target.value);\r\n        updateItem() \r\n    }\r\n\r\n    const childTotals = () => {\r\n        const totals =  listItems.reduce((count, i) => ( ( i.modules && i.modules.total && i.modules.total.value > 0) ? count + i.modules.total.value : count), 0 )\r\n        return totals.toFixed(2);\r\n    }\r\n\r\n    const updateItem = () => {\r\n        dispatch({\r\n            type:'UPDATE_ITEM',\r\n            payload: item\r\n        });\r\n    }\r\n    const handleRemove = () => {\r\n        delete item.modules.total\r\n        dispatch({\r\n            type:'UPDATE_ITEM',\r\n            payload: item\r\n        });\r\n        showTotal(false)\r\n    }\r\n    return (\r\n        <>\r\n            { active &&\r\n            <div className={`${editable ? styles.modeMain : ''} ${styles.modeContainer}`}>\r\n                \r\n                { editable &&\r\n                <span className={styles.totalWrap}>\r\n                    {title && <h5>Total</h5>}\r\n                    <input className={styles.modeInput} type=\"text\" name=\"total\" value={item.modules.total.value} onChange={handleChange} />    \r\n                </span>}                \r\n                <span className={styles.totalWrap}>\r\n                    {title && <h6 className={styles.headingChecklist}>Checklist</h6>}\r\n                    { listItems ? (\r\n                        <span className={styles.listTotals}>{childTotals()}</span>   \r\n                    ):(\r\n                        <span className={styles.listTotals}>{item.modules.total.value.toFixed(2)}</span>\r\n                    )}                                     \r\n                </span>\r\n                {remove && <i onClick={handleRemove} className={`material-icons ${styles.iconClose}`}>close</i>}\r\n            </div>}\r\n        </>\r\n    )\r\n}\r\n","import React, {useContext} from 'react';\r\nimport styles from './ItemMode.module.css';\r\nimport { AppContext } from '../../context/AppContext';\r\n\r\nexport const ItemCount = ({item, title, remove, editable=false, showCount}) => {\r\n    const active = item.modules && item.modules.count ? true : false;\r\n\r\n    const { dispatch } = useContext(AppContext);\r\n\r\n    const handleAdd = () => {\r\n        item.modules.count.value = item.modules.count.value + 1\r\n        updateItem()\r\n    }\r\n    const handleMinus = () => {\r\n        item.modules.count.value = item.modules.count.value > 0 ? item.modules.count.value - 1 : 0;\r\n        updateItem() \r\n    }\r\n    const updateItem = () => {\r\n        dispatch({\r\n            type:'UPDATE_ITEM',\r\n            payload: item\r\n        });\r\n    }\r\n    const handleRemove = () => {\r\n        delete item.modules.count\r\n        dispatch({\r\n            type:'UPDATE_ITEM',\r\n            payload: item\r\n        });\r\n        showCount(false)\r\n    }\r\n    return (\r\n        <>\r\n            { active &&\r\n            <div className={`${editable ? styles.modeMain : ''} ${styles.modeContainer}`}>\r\n                {title && <h5>Count</h5>}\r\n                <span className={styles.modeWrap}>\r\n                    <i onClick={handleMinus} className={`material-icons ${styles.iconCount}`}>remove</i>\r\n                    <span className={styles.countValue}>{item.modules.count.value}</span>\r\n                    <i onClick={handleAdd} className={`material-icons ${styles.iconCount}`}>add</i>\r\n                </span>\r\n                {remove && <i onClick={handleRemove} className={`material-icons ${styles.iconClose}`}>close</i>}\r\n            </div>}\r\n        </>\r\n    )\r\n}\r\n","import React, {useContext} from 'react';\r\nimport styles from './ItemMode.module.css';\r\nimport { AppContext } from '../../context/AppContext';\r\n\r\nexport const ItemDate = ({item, title, remove, editable, showDate}) => {\r\n    const active = item.modules && item.modules.date ? true : false;\r\n\r\n    const { dispatch } = useContext(AppContext);\r\n\r\n    const handleChange = (e) => {\r\n        item.modules.date.value = e.target.value;\r\n        updateItem() \r\n    }\r\n\r\n    const updateItem = () => {\r\n        dispatch({\r\n            type:'UPDATE_ITEM',\r\n            payload: item\r\n        });\r\n    }\r\n    \r\n    const handleRemove = () => {\r\n        delete item.modules.date\r\n        dispatch({\r\n            type:'UPDATE_ITEM',\r\n            payload: item\r\n        });\r\n        showDate(false)\r\n    }\r\n    return (\r\n        <>\r\n            { active &&\r\n            <div className={`${editable ? styles.modeMain : ''} ${styles.modeContainer}`}>\r\n                {title && <h5>Dates</h5>}\r\n                <span className={styles.dateWrap}>\r\n                    { editable ? (\r\n                        <input className={styles.modeInput} type=\"datetime-local\" name=\"date\" value={item.modules.date.value} onChange={handleChange} />\r\n                    ) : (\r\n                        <span>{item.modules.date.value ? item.modules.date.value.replace(\"T\",\" \") : \"\"}</span>     \r\n                    )}  \r\n                                 \r\n                </span>\r\n                {remove && <i onClick={handleRemove} className={`material-icons ${styles.iconClose}`}>close</i>}\r\n            </div>}\r\n        </>\r\n    )\r\n}\r\n","import React, {useState,useContext} from 'react'\r\n\r\nimport styles from './ItemDetail.module.css';\r\nimport { Link } from 'react-router-dom';\r\nimport { AppContext } from '../../context/AppContext';\r\nimport { useClickOutside } from '../Helpers/ClickOutside';\r\n\r\nimport { ItemTotal } from '../ItemModes/ItemTotal';\r\nimport { ItemCount } from '../ItemModes/ItemCount';\r\nimport { ItemDate } from '../ItemModes/ItemDate';\r\n\r\nexport const ItemListItem = ({item}) => {\r\n    const [checked, setChecked] = useState(item.status || false)\r\n    const [itemMenu, setItemMenu] = useState(false)\r\n    const [moveMenu, setMoveMenu] = useState(null)\r\n\r\n    const { items, children, dispatch } = useContext(AppContext);\r\n    const listItems = [...items].filter(i => i.parent === item.id)\r\n\r\n    const nextId = () => items.reduce((id, i)=>( i.id > id ? i.id : id), 0) + 1\r\n\r\n    const handleChecked = (e) => {\r\n        const check = e.target.checked;\r\n        const listItem = item;\r\n        listItem.status = check;\r\n        dispatch({\r\n            type:'UPDATE_ITEM',\r\n            payload: listItem\r\n        });\r\n        setChecked(!checked)\r\n    }\r\n\r\n    const handleCopy = () =>{\r\n        let copy = JSON.parse(JSON.stringify(item));\r\n        copy.id = nextId()\r\n        copy.index = listItems.length\r\n        copy.title = item.title + ' - copy'\r\n        dispatch({\r\n            type:'ADD_ITEM',\r\n            payload: copy\r\n        });\r\n        setItemMenu(false)\r\n    }\r\n\r\n    const handleMoveMenu = () => {\r\n        const availible = [...items].filter(i => item.id !== i.id && item.parent !== i.id  && ! children(item).includes(i))\r\n        setMoveMenu(availible)\r\n    }\r\n    const handleMove = (e) => {\r\n        const key = Number(e.target.dataset.key)        \r\n        const copy = {...item}        \r\n        copy.parent = key > 0 ? key : null;\r\n        copy.index = items.filter(i => copy.parent === i.parent).length\r\n        dispatch({\r\n            type:'UPDATE_ITEM',\r\n            payload: copy\r\n        });\r\n        setMoveMenu(null)\r\n        setItemMenu(false)\r\n    }\r\n\r\n    const handleDelete = () => {\r\n        dispatch({\r\n            type:'DELETE_ITEM',\r\n            payload: item\r\n        });\r\n        setItemMenu(false)\r\n    }\r\n\r\n    let domMenu = useClickOutside(() => {\r\n        setItemMenu(false)\r\n    })\r\n\r\n    return (\r\n        <div className={styles.warp}>\r\n            {itemMenu && \r\n            <>\r\n                <div onClick={() => setItemMenu(false)} className={styles.underlay}></div>\r\n                <div ref={domMenu} className={`z-depth-5 ${styles.menuWrap}`}>\r\n                    <ul>\r\n                        <li><i onClick={() => setItemMenu(false)}className={`material-icons ${styles.icon}`}>close</i></li>\r\n                        <li onClick={handleCopy}>Copy</li>\r\n                        <li onClick={handleMoveMenu}>Move</li>\r\n                        { moveMenu &&\r\n                        <li className={styles.scrollList}>\r\n                            <ul>\r\n                                { item.parent && <li onClick={handleMove} data-key='0'>Dashboard</li>}\r\n                                {moveMenu.map((i)=>(\r\n                                <li onClick={handleMove} key={i.id} data-key={i.id}>{i.title}</li>\r\n                                ))}\r\n                            </ul>\r\n                        </li>}\r\n                        <li onClick={handleDelete}>Delete</li>\r\n                    </ul>\r\n                </div>\r\n            </>}\r\n            <div>\r\n                <label className={styles.checkBox}><input type=\"checkbox\" className=\"filled-in\" checked={checked} onChange={handleChecked} /><span></span></label>\r\n                <h6 className={styles.listItemHeading} style={checked ? {textDecoration:\"line-through\"} : {textDecoration:\"none\"}}><Link to={`/item/${item.id}`} as={`/item/${item.id}`}>{item.title}</Link></h6>\r\n                <i onClick={()=>setItemMenu(true)}  className={`material-icons right ${styles.iconHidden}`}>edit</i>\r\n                <ItemTotal item={item} />\r\n                <ItemCount item={item} />\r\n                <ItemDate  item={item} />            \r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React, {useContext, useState} from 'react';\r\nimport { AppContext } from '../../context/AppContext';\r\nimport { DragDropContext, Droppable, Draggable  } from 'react-beautiful-dnd';\r\nimport { useClickOutside } from '../Helpers/ClickOutside';\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nimport { ItemListItem } from './ItemListItem';\r\nimport { ItemCount } from '../ItemModes/ItemCount';\r\nimport { ItemDate } from '../ItemModes/ItemDate';\r\nimport { ItemTotal } from '../ItemModes/ItemTotal';\r\n\r\nimport styles from './ItemDetail.module.css';\r\n\r\nexport default function ItemDetail({itemId}) {\r\n\r\n    const { items, dispatch } = useContext(AppContext);\r\n    const item = [...items].find(item => item.id === itemId)\r\n\r\n    const [textAreaHeight, setTextAreaHeight] = useState('14rem')\r\n\r\n    const [itemChecked, setItemChecked] = useState(item.status || false)\r\n    const [itemInput, setItemInput] = useState(item)\r\n    const [itemTitle, setItemTitle] = useState(false)\r\n    const [itemDescription, setItemDescription] = useState(false) \r\n\r\n    const listItems = [...items].filter(i => i.parent === item.id)\r\n    listItems.sort((a, b) => (a.index > b.index) ? 1 : -1)\r\n\r\n    const [listItemInput, setListItemInput] = useState({title:'', description:'', tags:[], parent:itemId})\r\n    const [listItemAdd, setListItemAdd] = useState(false)\r\n\r\n    const [itemDatesAdd, setItemDatesAdd] = useState(item.modules && item.modules.date ? true : false ) \r\n    const [itemCountAdd, setItemCountAdd] = useState(item.modules && item.modules.count ? true : false) \r\n    const [itemTotalAdd, setItemTotalAdd] = useState(item.modules && item.modules.total ? true : false) \r\n\r\n\r\n    let history = useHistory();\r\n\r\n    const nextId = () => items.reduce((id, i)=>( i.id > id ? i.id : id), 0) + 1\r\n\r\n    const handleChange = (e) => {\r\n        const [name, value] = [e.target.name, e.target.value] \r\n        setItemInput(prev => {\r\n            return { ...prev, [name]:value }\r\n        })\r\n        if (name === 'description') {\r\n            setTextAreaHeight(e.target.scrollHeight > 168 ? e.target.scrollHeight + 'px' : \"14rem\" )\r\n        }\r\n    }    \r\n    const handleTitleSave = (e) => { if (e.charCode === 13) handleTitle() } \r\n    const handleTitle = () => {\r\n        if (! itemInput.title || /^\\s*$/.test(itemInput.title)) return\r\n        const i = itemInput\r\n        dispatch({\r\n            type:'UPDATE_ITEM',\r\n            payload: i\r\n        });\r\n        setItemTitle(false)\r\n    }\r\n\r\n    const handleDescription = () => {\r\n        const i = itemInput\r\n        dispatch({\r\n            type:'UPDATE_ITEM',\r\n            payload: i\r\n        });\r\n        setItemDescription(false)\r\n    }\r\n\r\n    const handleChecked = (e) => {\r\n        const check = e.target.checked;\r\n        const listItem = item;\r\n        listItem.status = check;\r\n        dispatch({\r\n            type:'UPDATE_ITEM',\r\n            payload: listItem\r\n        });\r\n        setItemChecked(!itemChecked)\r\n    }\r\n\r\n    const handleAddTotal = () => {\r\n        const i = itemInput\r\n        i.modules ? i.modules.total = {value:0} : i.modules = {total:{value:0}}\r\n\r\n        dispatch({\r\n            type:'UPDATE_ITEM',\r\n            payload: i\r\n        });\r\n        setItemTotalAdd(true)    \r\n    }\r\n\r\n    const handleAddTotalAll = () => {\r\n        const li = listItems.map((i) => {\r\n            if (i.modules) {\r\n                i.modules.total = {value:0}\r\n            } else {\r\n                i.modules = {total:{value:0}}\r\n            }\r\n            return i\r\n        })\r\n        dispatch({\r\n            type:'UPDATE_ITEMS',\r\n            payload: li\r\n        });\r\n        setItemTotalAdd(true)    \r\n    }\r\n\r\n    const handleAddCountAll = () => {\r\n        const li = listItems.map((i) => { if (i.modules) { i.modules.count = {value:0} } else { i.modules = {count:{value:0}} } return i })\r\n        dispatch({\r\n            type:'UPDATE_ITEMS',\r\n            payload: li\r\n        });\r\n        setItemCountAdd(true)    \r\n    }\r\n\r\n    const handleAddCount = () => {\r\n        const i = itemInput\r\n        i.modules ? i.modules.count = {value:0} : i.modules = {count:{value:0}}\r\n        dispatch({\r\n            type:'UPDATE_ITEM',\r\n            payload: i\r\n        });\r\n        setItemCountAdd(true)\r\n    }\r\n\r\n    const handleAddDateAll = () => {\r\n        const li = listItems.map((i) => { if (i.modules) { i.modules.count = {date:null} } else { i.modules = {count:{value:null}} } return i })\r\n        dispatch({\r\n            type:'UPDATE_ITEMS',\r\n            payload: li\r\n        });\r\n    }\r\n\r\n    const handleAddDate = () => {\r\n        const i = itemInput\r\n        i.modules ? i.modules.date = {value:null} : i.modules = {date:{value:null}}\r\n\r\n        dispatch({\r\n            type:'UPDATE_ITEM',\r\n            payload: i\r\n        });\r\n        setItemDatesAdd(true)\r\n    }\r\n\r\n    // List Related\r\n    const handleDragEnd = (result) => {\r\n        if (! result.destination) return \r\n        const _items = Array.from(listItems);\r\n        const [reordered] = _items.splice(result.source.index, 1);\r\n        _items.splice(result.destination.index, 0, reordered);\r\n        _items.forEach((i, index) => i.index = index);      \r\n        dispatch({\r\n            type:'UPDATE_ITEMS',\r\n            payload: _items\r\n        });\r\n    }\r\n\r\n    const handleListItemChange = (e) => {\r\n        const [name, value] = [e.target.name, e.target.value] \r\n        setListItemInput(prev => {\r\n            return { ...prev, [name]:value }\r\n        })\r\n    }\r\n\r\n    const handleListItemSave = (e) => { if (e.charCode === 13) handleListItemAdd() }\r\n\r\n    const handleListItemAdd = () => {\r\n        if (! listItemInput.title || /^\\s*$/.test(listItemInput.title)) return\r\n        const listItem = listItemInput;\r\n        listItem.id = nextId();\r\n        listItem.index = listItems.length;\r\n\r\n        dispatch({\r\n            type:'ADD_ITEM',\r\n            payload: listItem\r\n        });\r\n        setListItemInput({title:'', description:'', tags:[], parent:item.id})\r\n        setListItemAdd(false)\r\n    }\r\n\r\n    const progress = () => {\r\n        const size = listItems.length;\r\n        const checked = listItems.reduce((count, i) => ( i.status === true ? count + 1 : count), 0 )\r\n        const total = ((checked / size) * 100) \r\n        return  isNaN(total) ? '0%' : total.toFixed(0) + '%'\r\n    }\r\n\r\n    let domTitle = useClickOutside(() => {\r\n        setItemTitle(false)\r\n    })\r\n    let domDesc = useClickOutside(() => {\r\n        setItemDescription(false)\r\n    })\r\n    return (\r\n        <div className={`card-panel ${styles.detailCard}`}>\r\n            <div className=\"row\">\r\n                <div className=\"col s12 m8\">\r\n                    { itemTitle ? (\r\n                    <div ref={domTitle}>\r\n                    <input\r\n                        type=\"text\"\r\n                        placeholder=\"Title\"\r\n                        value={itemInput.title}\r\n                        name='title'\r\n                        className={styles.inputSmall}\r\n                        onChange={handleChange}\r\n                        onKeyPress={handleTitleSave}\r\n                    />\r\n                    <button onClick={handleTitle} className=\"btn secondary\">Save</button>\r\n                    <i onClick={() => setItemTitle(false)} className={`material-icons right ${styles.iconClose}`}>close</i>\r\n                    </div>) : (\r\n                    <div>\r\n                        <label className={styles.checkBox}><input type=\"checkbox\" className=\"filled-in\" checked={itemChecked} onChange={handleChecked} /><span></span></label>\r\n                        <h5 onClick={() => setItemTitle(true)} className={styles.heading}>{item.title}</h5>\r\n                        <button className='btn secondary right' onClick={() => history.goBack()}>back</button>\r\n                    </div>)}                    \r\n                    { itemDescription ? (\r\n                    <div ref={domDesc}>\r\n                    <textarea\r\n                        type=\"text\"\r\n                        style={{height:textAreaHeight}}\r\n                        className={`materialize-textarea card-panel ${styles.textArea}`}\r\n                        placeholder=\"Description\"\r\n                        value={itemInput.description}\r\n                        name='description'\r\n                        onChange={handleChange}\r\n                    ></textarea>\r\n                    <button onClick={handleDescription} className=\"btn secondary\">Save</button>\r\n                    <i onClick={() => setItemDescription(false)} className={`material-icons right ${styles.iconClose}`}>close</i>\r\n                    </div>) : (\r\n                    <span onClick={() => setItemDescription(true)} className={`card-panel ${styles.description}`}>{item.description || '...'}</span>\r\n                    )}\r\n                    <ItemDate  item={item} title={true} remove={true} editable={true} showDate={setItemDatesAdd}/>\r\n                    <ItemCount item={item} title={true} remove={true} editable={true} showCount={setItemCountAdd}/>\r\n                    <ItemTotal item={item} listItems={listItems} title={true} remove={true} editable={true} showTotal={setItemTotalAdd}/>\r\n                    <div className={styles.listWrap}>\r\n                        \r\n                        <h5 className={styles.heading}>Checklist</h5>\r\n                        <span className={`right ${styles.progressPerc}`}>{progress()}</span>\r\n                        <div className={styles.progressBar}><div style={{width:progress()}}></div></div>                        \r\n                        <DragDropContext onDragEnd={handleDragEnd}>\r\n                        <Droppable droppableId=\"items\">\r\n                        {(provided) => (\r\n                        <ul \r\n                            className=\"items\"\r\n                            {...provided.droppableProps} \r\n                            ref={provided.innerRef} \r\n                        >   \r\n                            { listItems.map((i, index) => (\r\n                            <Draggable key={i.id} draggableId={'item_'+i.id} index={index}>\r\n                                {(provided) => (\r\n                                    <li ref={provided.innerRef} {...provided.draggableProps} {...provided.dragHandleProps} className={`card-panel ${styles.childItem } ${styles.warp}`} >\r\n                                        <ItemListItem item={i} />\r\n                                    </li>                                \r\n                                )}\r\n                            </Draggable>\r\n                            ))} \r\n                            {provided.placeholder} \r\n                        </ul>\r\n                        )} \r\n                        </Droppable>              \r\n                        </DragDropContext>\r\n                    </div>\r\n                    { listItemAdd ? (<>\r\n                    <input\r\n                        type=\"text\"\r\n                        placeholder=\"Title\"\r\n                        value={listItemInput.title}\r\n                        name='title'\r\n                        className={styles.inputSmall}\r\n                        onChange={handleListItemChange}\r\n                        onKeyPress={handleListItemSave}\r\n                    />  \r\n                    <button onClick={handleListItemAdd} className=\"btn secondary\">Save</button>\r\n                    <i onClick={()=>setListItemAdd(false)} className={`material-icons right ${styles.iconClose}`}>close</i>\r\n                    </>) : (\r\n                    <button onClick={()=>setListItemAdd(true)} className=\"btn secondary\">Add item</button>\r\n                    )}\r\n                </div>\r\n                <div className=\"col s12 m4\">\r\n                    <ul className={styles.itemNav}>\r\n                        <li><h5 className={styles.heading}>Modes</h5></li>\r\n                        { ! itemCountAdd && <li><button onClick={handleAddCount} className=\"btn minor\">Add Card Count</button></li>}\r\n                        <li><button onClick={handleAddCountAll} className=\"btn minor\">Add Checklist Counts</button></li>\r\n                        { ! itemDatesAdd && <li><button onClick={handleAddDate} className=\"btn minor\">Add Card Date</button></li>}\r\n                        <li><button onClick={handleAddDateAll} className=\"btn minor\">Add Checklist Dates</button></li>\r\n                        { ! itemTotalAdd && <li><button onClick={handleAddTotal} className=\"btn minor\">Add Card Total</button></li>}\r\n                        <li><button onClick={handleAddTotalAll} className=\"btn minor\">Add Checklist Totals</button></li>\r\n                        \r\n                    </ul>\r\n                </div>\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react';\r\nimport { useParams } from 'react-router';\r\nimport ItemDetail from '../components/ItemDetail/ItemDetail';\r\n\r\nexport default function Item({ match }) {\r\n    let { itemId } = useParams();\r\n    const id = Number(itemId) || null;\r\n    \r\n    return (\r\n        <div className=\"container\">\r\n            <ItemDetail key={id} itemId={id} />\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport styles from './TreeCrawl.module.css';\r\n\r\nexport const TreeCrawl = ({items}) => {\r\n\r\n    return (\r\n        <>        \r\n        <ul style={{marginLeft:'1rem'}}>\r\n                                        \r\n            {Object.keys(items).map((key, index)=>{                \r\n                var item = items[key]\r\n                return (\r\n                <li className={styles.listli} key={key}>                    \r\n                    <Link className={styles.listItems} to={`/item/${key}`}>{item.title}</Link>\r\n                    <div className={styles.link2} />\r\n                    <div className={styles.link} />    \r\n                    {item.children && <>                                  \r\n                    <TreeCrawl items={item.children} />\r\n                    </>}                    \r\n                </li>)             \r\n            })}\r\n        </ul>\r\n        </>\r\n    )\r\n}\r\n","import React, {useContext} from 'react'\r\nimport { AppContext } from '../context/AppContext';\r\nimport { TreeCrawl } from '../ItemTree/TreeCrawl';\r\nimport { Link, useHistory } from 'react-router-dom';\r\n\r\nimport styles from '../ItemTree/TreeCrawl.module.css';\r\n\r\n\r\nexport default function ListTree() {\r\n    const { items } = useContext(AppContext);\r\n\r\n    let history = useHistory();\r\n\r\n    const build = () => {\r\n        const added = []\r\n        const crawl = (parent) => {\r\n            const found = {}\r\n            for ( var i in items) {\r\n                var item = items[i];\r\n                if (parent === item.parent && ! added.includes(item.id)) {\r\n                    added.push(item.id);\r\n                    found[item.id] = {title:item.title}\r\n                    var children = crawl(item.id)\r\n                    if (Object.keys(children).length > 0) {found[item.id].children = children}                \r\n                } \r\n            }\r\n            return found\r\n        }\r\n        return crawl(null)\r\n    }\r\n    const itemTree = build()\r\n\r\n\r\n    return (\r\n    <>\r\n        <div className=\"container\">\r\n\r\n                    <ul className={`card-panel ${styles.card}`}>\r\n                    <button className={`btn secondary right  ${styles.button}`} onClick={() => history.goBack()}>back</button>\r\n                    {Object.keys(itemTree).map((key)=>{\r\n                        var item = itemTree[key]\r\n                        return (\r\n                        <li className={styles.listli} key={key}>                    \r\n                            <Link className={styles.listItems} to=\"/\">{item.title}</Link>\r\n                            {item.children &&\r\n                            <TreeCrawl items={item.children} />\r\n                            }                    \r\n                        </li>)             \r\n                    })}\r\n                    </ul>\r\n\r\n        </div></>\r\n    )\r\n}\r\n","import React from 'react';\r\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom';\r\nimport Nav from '../components/universal/Nav/Nav';\r\nimport { AppProvider, } from '../context/AppContext';\r\n\r\nimport Dashboard from './Dashboard';\r\nimport Item from './Item';\r\nimport ListTree from './ListTree';\r\n\r\nexport default function Base() {\r\n    \r\n    return (\r\n    <AppProvider>\r\n        <Router>            \r\n            <Nav />\r\n            <Switch> \r\n                <Route path=\"/\" exact>\r\n                    <Dashboard />\r\n                </Route>\r\n                <Route path=\"/item/:itemId\" component={Item} />   \r\n                <Route path=\"/tree\" component={ListTree} /> \r\n            </Switch> \r\n        </Router>     \r\n    </AppProvider>\r\n    )\r\n}\r\n","import Base from './pages/Base';\nimport './App.css';\n\nfunction App() {\n  return (\n    <>\n      <Base />\n    </>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'materialize-css/dist/css/materialize.css';\n\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"ItemCard_item__198GU\",\"heading\":\"ItemCard_heading__qjR-J\",\"icon\":\"ItemCard_icon__5_hr9\",\"iconSmall\":\"ItemCard_iconSmall__TaIs5\",\"warp\":\"ItemCard_warp__tB0Hp\",\"modal\":\"ItemCard_modal__1Xd2j\",\"underlay\":\"ItemCard_underlay__1Sez8\",\"editOptions\":\"ItemCard_editOptions__6q6Kr\",\"childItem\":\"ItemCard_childItem__2LI-J\",\"collapsibleBody\":\"ItemCard_collapsibleBody__S5lN5\",\"inputSmall\":\"ItemCard_inputSmall__2DJq2\",\"iconClose\":\"ItemCard_iconClose__2dbsS\",\"menuWrap\":\"ItemCard_menuWrap__2K5yD\",\"scrollList\":\"ItemCard_scrollList__2mstl\",\"editWrap\":\"ItemCard_editWrap__3xAgA\",\"editInput\":\"ItemCard_editInput__VW_68\",\"inputLarge\":\"ItemCard_inputLarge__1ZW5A\",\"rows\":\"ItemCard_rows__2WUhL\",\"cols\":\"ItemCard_cols__17H7X\",\"cardPanel\":\"ItemCard_cardPanel__1xaZA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"detailCard\":\"ItemDetail_detailCard__3sKGA\",\"textArea\":\"ItemDetail_textArea__192H8\",\"inputSmall\":\"ItemDetail_inputSmall__13BzE\",\"heading\":\"ItemDetail_heading__3Sbj6\",\"listItemHeading\":\"ItemDetail_listItemHeading__hYvJ2\",\"iconClose\":\"ItemDetail_iconClose__2lmeL\",\"iconHidden\":\"ItemDetail_iconHidden__2VGrX\",\"childItem\":\"ItemDetail_childItem__nBN0E\",\"description\":\"ItemDetail_description__1Obi4\",\"listWrap\":\"ItemDetail_listWrap__-_SEZ\",\"iconSmall\":\"ItemDetail_iconSmall__1x-Y7\",\"checkBox\":\"ItemDetail_checkBox___rRwR\",\"progressPerc\":\"ItemDetail_progressPerc__1GAu7\",\"progressBar\":\"ItemDetail_progressBar__33rDg\",\"itemNav\":\"ItemDetail_itemNav__3qxxo\",\"dateTime\":\"ItemDetail_dateTime__3tMFi\",\"iconDateTimeClose\":\"ItemDetail_iconDateTimeClose__3367I\",\"warp\":\"ItemDetail_warp__1am_X\",\"menuWrap\":\"ItemDetail_menuWrap__36-cq\",\"scrollList\":\"ItemDetail_scrollList__2QhK9\",\"editInput\":\"ItemDetail_editInput__2NRBt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"modeWrap\":\"ItemMode_modeWrap__26amW\",\"modeMain\":\"ItemMode_modeMain__1EuR1\",\"iconClose\":\"ItemMode_iconClose__35AH9\",\"heading\":\"ItemMode_heading__1akxZ\",\"countValue\":\"ItemMode_countValue__2RRAW\",\"iconCount\":\"ItemMode_iconCount__1uW9L\",\"dateWrap\":\"ItemMode_dateWrap__1syMq\",\"totalWrap\":\"ItemMode_totalWrap__u7yZW\",\"modeInput\":\"ItemMode_modeInput__1xsR8\",\"modeContainer\":\"ItemMode_modeContainer__1os6b\",\"headingChecklist\":\"ItemMode_headingChecklist__1QYnh\",\"listTotals\":\"ItemMode_listTotals__W-naa\"};"],"sourceRoot":""}